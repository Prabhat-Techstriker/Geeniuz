{"version":3,"sources":["redux/categories/action.js","views/base/addcategory/Addcategory.js"],"names":["get_category_data","payload","dispatch","a","categoryData","response","checkResponse","success","type","data","error","get_category_data_byid","getCategoryById","get_subcategory_data_byid","getSubcatById","localStorage","setItem","status","console","log","edit_category","editCategory","create_category","createCategory","delete_category","deleteCategory","Addcategory","props","formValidate","state","is_valid","x","setState","prevState","errors","onChange","e","target","name","value","componentDidMount","bind","handleSubmit","event","this","category","isAdded","preventDefault","description","parent_id","toast","action","method","encType","className","row","md","htmlFor","xs","id","invalid","placeholder","rows","onClick","size","color","hideProgressBar","React","Component","connect"],"mappings":"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","file":"static/js/22.822d9146.chunk.js","sourcesContent":["import {categoryData,createCategory,deleteCategory,editCategory,getCategoryById,getSubcatById} from '../queries';\nimport { checkResponse } from \"../../constants/index\";\n\n/* LISTCLIENT */\nexport const get_category_data = payload => async dispatch => {\n  let response = await categoryData(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_category_data_byid = payload => async dispatch => {\n  let response = await getCategoryById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_subcategory_data_byid = payload => async dispatch => {\n  let response = await getSubcatById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"SUBCATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n\nvar a=localStorage.setItem(\"a\", response.data.status);\nconsole.log(a,\"hih\")\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\nexport const edit_category = payload => async dispatch => {\n  let response = await editCategory(payload);\n  response = checkResponse(response);\n  if (response.success) {\n    dispatch({\n      type: \"UPDATE_DATA_ID\",\n      payload: response.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n  export const create_category = payload => async dispatch => {\n    let response = await createCategory(payload);\n    response = checkResponse(response);\n    \n    if (response.success) {\n\n      dispatch({\n        type: \"CREATE_CATEGORY\",\n        payload: response\n      });\n    } else {\n    \n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n  export const delete_category = payload => async dispatch => {\n    let response = await deleteCategory(payload);\n    response = checkResponse(response);\n\n    if (response.success) {\n      dispatch(get_category_data())\n    } else {\n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n\n\n\n","import React from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormGroup,\n  CTextarea,\n  CLabel,\n  CSelect,\n  CInput\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {create_category,get_category_data} from \"../../../redux/categories/action\";\nimport { connect } from \"react-redux\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\n\nclass Addcategory extends React.Component {\n\n  constructor(props) {\n\t\tsuper(props);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.state = {\n\t\n\t\t\tdata: {},\n\t\t\terrors: {}\n\t\t};\n\t}\n\n  formValidate = () => {\n\t\tlet { data } = this.state;\n\t\tlet fieldList = [\n    \"name\",\n    \"description\",\n    \n\t\t];\n\t\n\t\tlet is_valid = true;\n\t\tfor (let x of fieldList) {\n\t\t\tif (!data[x]) {\n\t\t\t\tis_valid = false;\n\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\terrors: { ...prevState.errors, [x]: \"Please fill in the above field\" }\n\t\t\t\t}));\n\t\t\t}\n\t\t}\nreturn is_valid;\n\t};\n\n\tonChange = async e => {\n\t\tthis.setState({\n\t\t\tdata: { ...this.state.data, [e.target.name]: e.target.value },\n\t\t\terrors: { ...this.state.errors, [e.target.name]: \"\" }\n\t\t});\n\t\tif (!e.target.value) {\n\t\t\tthis.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t[e.target.name]: \"Please fill in the above field\"\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t};\n\n\tasync handleSubmit(event) {\n    const {isAdded} = this.props.category;\n\t\tevent.preventDefault();\n    if (!this.formValidate()) {\n\t\t\treturn;\n\t\t}\n\t\tconst { data } = this.state;\n  \n\t\tconst payload = {\n      name: data.name,\n      description:data.description,\n\t\tparent_id:'0'\n    };\n\n    await this.props.create_category(payload);\n     \n     const categorydatastatus = this.props.category.create_category.data.status;\n     {categorydatastatus == 201 ? toast.success(\"Category added sucessfully.\") : toast.error(\"The name has already been taken.\")}\n  \n\t}\n\n  componentDidMount = async () => {\n    await this.props.get_category_data()\n    \n  }\n  render() {\n\n  \n  const {isAdded} = this.props.category;\n\n  const { data, errors } = this.state;\n \n\n  return (\n    <>\n    \n     <CCard>\n            <CCardHeader>\n              Add category \n           </CCardHeader>\n            <CCardBody>\n              <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\n         \n              <CFormGroup row>\n                \n                <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">Category Name</CLabel>\n                </CCol>\n                \n                <CCol xs=\"12\" md=\"9\">\n                <CInput \n\t\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n                        id=\"name\"\n                        onChange={this.onChange}\n                        value={data.name}\n                        invalid={!!errors.name}\n\t\t\t\t\t\t\t\t\t\t\t  placeholder=\"Enter your category name\" />\n                   {errors.name ? (\n\t\t\t\t\t\t\t\t\t\t<CLabel className=\"is-invalid text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t{errors.name}\n\t\t\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)}\n                </CCol>\n               \n              </CFormGroup>\n                <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"textarea-input\">Textarea</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                    <CTextarea \n                      name=\"description\" \n                      id=\"description\" \n                      rows=\"9\"\n                      value={data.description}\n                      onChange={this.onChange}\n                      invalid={!!errors.description}\n                      placeholder=\"Content...\" \n                    />\n                      {errors.description ? (\n\t\t\t\t\t\t\t\t\t\t<CLabel className=\"is-invalid text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t{errors.description}\n\t\t\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)}\n                  </CCol>\n                </CFormGroup>\n     </CForm>\n            </CCardBody>\n            <CCardFooter>\n              <CButton type=\"submit\" \tonClick={this.handleSubmit} size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" /> Submit</CButton>\n            \n            </CCardFooter>\n          </CCard>\n          <ToastContainer hideProgressBar={true} />\n    </>\n  )\n}\n }\n\n\nconst mapStateToProps = (state) => ({\n  ...state\n})\nexport default connect(mapStateToProps, { create_category,get_category_data })(Addcategory);"],"sourceRoot":""}