{"version":3,"sources":["redux/categories/action.js","views/base/addcategory/Viewcategory.js"],"names":["get_category_data","payload","dispatch","a","categoryData","response","checkResponse","success","type","data","error","get_category_data_byid","getCategoryById","get_subcategory_data_byid","getSubcatById","localStorage","setItem","status","console","log","edit_category","editCategory","create_category","createCategory","delete_category","deleteCategory","fields","Viewcategory","props","confirmDialod","id","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","value","formValidate","SubCategorydata","category","categoryid_list","is_valid","x","setState","prevState","onSelect","e","parentCatID","target","componentDidMount","match","params","clientId","selectedClient","state","info","subcatdata","errors","showHide","showMore","popup","datasubnew","bind","handleSubmit","subCatID","this","event","preventDefault","name","description","history","push","isLogin","catch","err","categorydata","subcategoryid_list","categories","style","display","fontSize","items","itemsPerPage","pagination","scopedSlots","color","onClick","handleModalShowHide","size","show","Header","className","Title","Body","action","method","encType","row","md","htmlFor","xs","onChange","handleChange","invalid","placeholder","rows","Footer","React","Component","connect"],"mappings":"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","file":"static/js/25.250b0fa9.chunk.js","sourcesContent":["import {categoryData,createCategory,deleteCategory,editCategory,getCategoryById,getSubcatById} from '../queries';\nimport { checkResponse } from \"../../constants/index\";\n\n/* LISTCLIENT */\nexport const get_category_data = payload => async dispatch => {\n  let response = await categoryData(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_category_data_byid = payload => async dispatch => {\n  let response = await getCategoryById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_subcategory_data_byid = payload => async dispatch => {\n  let response = await getSubcatById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"SUBCATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n\nvar a=localStorage.setItem(\"a\", response.data.status);\nconsole.log(a,\"hih\")\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\nexport const edit_category = payload => async dispatch => {\n  let response = await editCategory(payload);\n  response = checkResponse(response);\n  if (response.success) {\n    dispatch({\n      type: \"UPDATE_DATA_ID\",\n      payload: response.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n  export const create_category = payload => async dispatch => {\n    let response = await createCategory(payload);\n    response = checkResponse(response);\n    \n    if (response.success) {\n\n      dispatch({\n        type: \"CREATE_CATEGORY\",\n        payload: response\n      });\n    } else {\n    \n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n  export const delete_category = payload => async dispatch => {\n    let response = await deleteCategory(payload);\n    response = checkResponse(response);\n\n    if (response.success) {\n      dispatch(get_category_data())\n    } else {\n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n\n\n\n","import React from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CForm,\n  CCardHeader,\n  CFormGroup,\n  CDataTable,\n  CLabel,\n  CCol,\n  CInput,\n  CTextarea,\n  CCardFooter\n\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {create_category,get_category_data,get_category_data_byid,get_subcategory_data_byid,edit_category,delete_category} from \"../../../redux/categories/action\";\nimport { connect } from \"react-redux\";\nimport Swal from 'sweetalert2/dist/sweetalert2.js'\nimport 'sweetalert2/src/sweetalert2.scss'\nimport { Modal } from 'react-bootstrap';\n\nconst fields = ['name','description','action']\nclass Viewcategory extends React.Component {\n\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n            info:'false',\n            data: {},\n            subcatdata:{},\n            SubCategorydata:{},\n            errors: {},\n            showHide: false,\n\t\t      \tshowMore: false,\n            popup: false,\n            datasubnew:{},\n          \n        };\n        this.onSelect = this.onSelect.bind(this);\n        this.formValidate = this.formValidate.bind(this);\n        \n        this.handleSubmit = this.handleSubmit.bind(this);\n\t}\n  confirmDialod = (id) => {\n    Swal.fire({\n        title: 'Are you sure?',\n        text: \"Are You Sure you want to delete this User!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n    }).then((result) => {\n        if (result.value) {\n            this.props.delete_category(id)\n        }\n    })\n}\n    handleModalShowHide(subCatID) {\n      this.props.get_category_data_byid(subCatID);\n\t\t  this.setState({ showHide: !this.state.showHide })\n      this.setState({ popup: true })\n\n     \n    }\n      formValidate = () => {\n      const SubCategorydata = this.props.category.categoryid_list.category;\n    let fieldList = [\n      \"name\",\n      \"description\",\n    ];\n    let is_valid = true;\n    for (let x of fieldList) {\n      if (!SubCategorydata[x]) {\n        is_valid = false;\n        this.setState(prevState => ({\n          error: { ...prevState.error, [x]: \"Please fill in the above field\" }\n        }));\n      }\n    }\n    return is_valid;\n  };\n\n  handleChange(event) {\n    event.preventDefault();\n    const SubCategorydata = this.props.category.categoryid_list.category;\n    let name = event.target.name;\n    let value = event.target.value;\n\n    SubCategorydata[name] = value;\n\n    this.setState({SubCategorydata})\n}\n\n    handleSubmit(event) {\n      event.preventDefault();\n       \n      const SubCategorydata = this.props.category.categoryid_list.category;\n        if (!this.formValidate()) {\n          return;\n        }if (SubCategorydata){\n        const payload = {\n         id: SubCategorydata.id, \n         name:SubCategorydata.name,\n         description:SubCategorydata.description\n        };\n\n        \n\n        this.props\n          .edit_category(payload)\n          .then(async () => {\n            this.props.history.push(\"/allcategory\");\n            this.setState({\n              isLogin: false\n            });\n          })\n          .catch(err => {\n            console.log(\"err\", err);\n          });\n        }\n    }\n    onSelect = async e =>{\n      let parentCatID = e.target.value;\n     \n      this.props.get_subcategory_data_byid(parentCatID);\n    }\n\n    componentDidMount = async () => {\n      await this.props.get_subcategory_data_byid(this.props.match.params.clientId);\n      await this.props.get_category_data_byid(this.props.match.params.clientId);\n        let selectedClient = this.props.category.categoryid_list.category;\n    \n      \n      await this.setState({\n        \n        data: selectedClient,\n        id: this.props.match.params.clientId\n      });\n     \n    }\n  render() {\n    const SubCategorydata = this.props.category.categoryid_list.category;\n\n    const categorydata = this.props.category.subcategoryid_list.categories;\n  \n    \n    \n  const { data, errors,datasubnew } = this.state;\n\nconsole.log(datasubnew,'sfdfd')\n\n  return (\n    <>\n     <CCard>\n\n    \n            <CCardHeader>\n              Category View\n            </CCardHeader>\n            <CCardBody style={{display:\"grid\"}}>\n               <div style={{display:\"inline-flex\"}} ><h4>Parent category : </h4>  <p style={{fontSize:\"18px\"}}>{data.name}</p></div> \n               \n               <div style={{display:\"inline-flex\"}} ><h4>Description : </h4>  <p style={{fontSize:\"18px\"}}>{data.description}</p></div> \n      \n            </CCardBody>\n            <CCardHeader>\n              <h2>Subcategory view</h2>\n          \n            </CCardHeader>\n            <CCardBody>\n              \n             <CDataTable\n                items={categorydata}\n               fields={fields}\n            \n               itemsPerPage={10}\n               pagination\n               scopedSlots = {{\n                 'action':\n                 (categorydata)=>(\n                   <tr>\n             \n              <td>   <CButton color=\"info\"   onClick={() => this.handleModalShowHide(categorydata.id)}  >Update </CButton></td>\n              <td> <CButton type=\"submit\" size=\"sm\" onClick={e => this.confirmDialod(categorydata.id)} color=\"danger\">delete</CButton></td>\n                </tr>\n                \n                   ) }}\n             />\n                 <Modal show={this.state.showHide}>\n\t\t\t\t\t<Modal.Header className=\"popupheader\" >\n\t\t\t\t\t\t<Modal.Title >Update subcategory</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\n\t\t\t\t\t<Modal.Body className=\"popupbox\">\n                    <CCardBody>\n                    <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\n                  {SubCategorydata ? <CFormGroup row>\n                \n                <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">Category Name</CLabel>\n                </CCol>\n                \n                <CCol xs=\"12\" md=\"9\">\n                <CInput \n            name=\"name\"\n                        id=\"name\"\n                        onChange={this.handleChange.bind(this)} \n                        value={SubCategorydata.name}\n                        invalid={!!errors.name}\n                        placeholder=\"Enter your category name\" />\n                   {errors.name ? (\n          <CLabel className=\"is-invalid text-danger\">\n            {errors.name}\n            </CLabel>\n            ) : (\"\")}\n                </CCol>\n               \n              </CFormGroup> : \" \"}\n                    \n                  {SubCategorydata ?     <CFormGroup row>\n                      <CCol md=\"3\">\n                        <CLabel htmlFor=\"textarea-input\">Textarea</CLabel>\n                      </CCol>\n                      <CCol xs=\"12\" md=\"9\">\n                        <CTextarea \n                          name=\"description\" \n                          id=\"description\" \n                          rows=\"9\"\n                          value={SubCategorydata.description}\n                          onChange={this.handleChange.bind(this)} \n                          invalid={!!errors.description}\n                          placeholder=\"Content...\" \n                        />\n                          {errors.description ? (\n              <CLabel className=\"is-invalid text-danger\">\n                {errors.description}</CLabel>\n                      ) : (\n                        \"\"\n                      )}\n                      </CCol>\n                    </CFormGroup> : \"\" }\n              \n              </CForm>\n\n              </CCardBody>\n          \n\t\t\t\t\t</Modal.Body >\n\t\t\t\t\t<Modal.Footer className=\"footeralert\">\n                    <CCardFooter>\n                  \n              <CButton type=\"submit\" \tonClick={this.handleSubmit}  size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" /> Submit</CButton>\n              <CButton type=\"reset\" size=\"sm\" onClick={() => this.handleModalShowHide()} color=\"danger\"><CIcon name=\"cil-ban\" /> cancel</CButton>\n            </CCardFooter>\n\n\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n             </CCardBody>\n          </CCard>\n\n    </>\n  )\n}\n }\n\n\nconst mapStateToProps = (state) => ({\n  ...state\n})\nexport default connect(mapStateToProps, {get_subcategory_data_byid, delete_category,create_category,get_category_data,get_category_data_byid,edit_category })(Viewcategory);"],"sourceRoot":""}