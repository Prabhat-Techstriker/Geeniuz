{"version":3,"sources":["redux/categories/action.js","views/base/subcategory/Subcategory.js"],"names":["get_category_data","payload","dispatch","a","categoryData","response","checkResponse","success","type","data","error","get_category_data_byid","getCategoryById","get_subcategory_data_byid","getSubcatById","localStorage","setItem","status","console","log","edit_category","editCategory","create_category","createCategory","delete_category","deleteCategory","Subcategory","props","formValidate","state","is_valid","x","setState","prevState","errors","onChange","e","target","name","value","componentDidMount","bind","handleSubmit","category","showMore","hideocategory","this","event","preventDefault","description","parent_id","toast","categorydata","category_list","categories","action","method","encType","className","row","md","htmlFor","xs","custom","id","invalid","onClick","handleClick","hidden","undefined","map","index","placeholder","rows","size","color","hideProgressBar","React","Component","connect"],"mappings":"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","file":"static/js/26.c257f5d5.chunk.js","sourcesContent":["import {categoryData,createCategory,deleteCategory,editCategory,getCategoryById,getSubcatById} from '../queries';\nimport { checkResponse } from \"../../constants/index\";\n\n/* LISTCLIENT */\nexport const get_category_data = payload => async dispatch => {\n  let response = await categoryData(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_category_data_byid = payload => async dispatch => {\n  let response = await getCategoryById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_subcategory_data_byid = payload => async dispatch => {\n  let response = await getSubcatById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"SUBCATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n\nvar a=localStorage.setItem(\"a\", response.data.status);\nconsole.log(a,\"hih\")\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\nexport const edit_category = payload => async dispatch => {\n  let response = await editCategory(payload);\n  response = checkResponse(response);\n  if (response.success) {\n    dispatch({\n      type: \"UPDATE_DATA_ID\",\n      payload: response.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n  export const create_category = payload => async dispatch => {\n    let response = await createCategory(payload);\n    response = checkResponse(response);\n    \n    if (response.success) {\n\n      dispatch({\n        type: \"CREATE_CATEGORY\",\n        payload: response\n      });\n    } else {\n    \n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n  export const delete_category = payload => async dispatch => {\n    let response = await deleteCategory(payload);\n    response = checkResponse(response);\n\n    if (response.success) {\n      dispatch(get_category_data())\n    } else {\n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n\n\n\n","import React from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormGroup,\n  CTextarea,\n  CLabel,\n  CSelect,\n  CInput\n\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {get_category_data,create_category} from \"../../../redux/categories/action\";\nimport { connect } from \"react-redux\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\nimport { Modal } from 'react-bootstrap';\nclass Subcategory extends React.Component {\nconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.state = {\n      data: {},\n      category:{},\n      errors: {},\n      showMore: true,\n      hideocategory:false,\n      \n\t\t};\n\t}\n\n  formValidate = () => {\n\t\tlet { data } = this.state;\n\t\tlet fieldList = [\n    \"name\",\n    \"description\",\n    \"parent_id\",\n    \n\t\t];\n\t\n\t\tlet is_valid = true;\n\t\tfor (let x of fieldList) {\n\t\t\tif (!data[x]) {\n\t\t\t\tis_valid = false;\n\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\terrors: { ...prevState.errors, [x]: \"Please fill in the above field\" }\n\t\t\t\t}));\n\t\t\t}\n\t\t}\nreturn is_valid;\n\t};\n\n\tonChange = async e => {\n\t\tthis.setState({\n\t\t\tdata: { ...this.state.data, [e.target.name]: e.target.value },\n\t\t\terrors: { ...this.state.errors, [e.target.name]: \"\" }\n\t\t});\n\t\tif (!e.target.value) {\n\t\t\tthis.setState({\n\t\t\t\terrors: {\n\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t[e.target.name]: \"Please fill in the above field\"\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t};\n\thandleClick() {\n    this.setState({ showMore: false })\n    this.setState({hideocategory:true })\n\n\t}\n\tasync handleSubmit(event) {\n    const newdata = this.props.category;\n\n    event.preventDefault();\n    if (!this.formValidate()) {\n\t\t\treturn;\n\t\t}\n\n    const { data} = this.state;\nif(data){\n\t\tconst payload = {\n\n      name: data.name,\n      description:data.description,\n      parent_id:data.parent_id,\n      \n   \n    };\nawait this.props.create_category(payload);\nconst categorydatastatus = this.props.category.create_category.data.status;\n{categorydatastatus == 201 ? toast.success(\"SubCategory added sucessfully.\") : toast.error(\"The name has already been taken.\")}\n\n  }\n}\n  componentDidMount = async () => {\n    await this.props.get_category_data()\n    \n  }\nrender(){\n  const categorydata = this.props.category.category_list.categories;\n\n  const newdata = this.props.category;\n\n  const { data, errors } = this.state;\n\n  return (\n    <>\n     <CCard>\n\n            <CCardHeader>\n              Add Sub Category \n           \n            </CCardHeader>\n            <CCardBody>\n              <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\n                 \n              <CFormGroup row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"select\">Category Name</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                    \n                    <CSelect custom name=\"parent_id\" id=\"parent_id\"  invalid={!!errors.parent_id} onClick={() => this.handleClick()}   onChange={this.onChange} value= {data.parent_id}>\n                    <option  hidden={this.state.hideocategory}  value={0}> choose a category </option>\n                    {categorydata !== undefined ? categorydata.map((category, index) => (\n                      \n        <option value={category.id}>  {category.name}  </option>\n    )) : \"\"}\n                    </CSelect>\n                    {errors.parent_id ? (\n\t\t\t\t\t\t\t\t\t\t<CLabel className=\"is-invalid text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t{errors.parent_id}\n\t\t\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)}\n                  </CCol>\n                </CFormGroup>\n\n                <CFormGroup  hidden={this.state.showMore} row>\n                \n                <CCol md=\"3\">\n       \n                  <CLabel htmlFor=\"select\">Add Sub category</CLabel>\n                </CCol>\n                \n                <CCol xs=\"12\" md=\"9\">\n                <CInput name=\"name\" id=\"name\" onChange={this.onChange} value={data.name} invalid={!!errors.name}\n placeholder=\"Enter your category name\" />\n                         {errors.name ? (\n\t\t\t\t\t\t\t\t\t\t<CLabel className=\"is-invalid text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t{errors.name}\n\t\t\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)}\n                </CCol>\n              </CFormGroup>\n\n                <CFormGroup  hidden={this.state.showMore} row>\n                  <CCol md=\"3\">\n                    <CLabel htmlFor=\"textarea-input\">Description</CLabel>\n                  </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                    <CTextarea \n                       name=\"description\" \n                       id=\"description\" \n                       rows=\"9\"\n                       value={data.description}\n                       onChange={this.onChange}\n                       placeholder=\"Content...\" \n                       invalid={!!errors.description}\n                    />\n                      {errors.description ? (\n\t\t\t\t\t\t\t\t\t\t<CLabel className=\"is-invalid text-danger\">\n\t\t\t\t\t\t\t\t\t\t\t{errors.description}\n\t\t\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)}\n                  </CCol>\n                </CFormGroup>\n\n     </CForm>\n            </CCardBody>\n            <CCardFooter>\n              <CButton type=\"submit\" onClick={this.handleSubmit} size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" /> Submit</CButton>\n\n            </CCardFooter>\n          </CCard>\n          <ToastContainer hideProgressBar={true} />\n    </>\n  )\n}\n }\n\n\nconst mapStateToProps = (state) => ({\n  ...state\n})\n\n\nexport default connect(mapStateToProps, {\n\tget_category_data,\n  create_category\n})(Subcategory);"],"sourceRoot":""}