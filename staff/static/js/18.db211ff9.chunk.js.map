{"version":3,"sources":["views/theme/claimbuisness/Listclaimbuisness.js","redux/claimbuisness/action.js"],"names":["fields","ListClaimbuisness","props","componentDidMount","a","claim_business_data","claimbuisness","claim_list","result","handleSubmit","bind","state","data","errors","event","id","payload","this","approve_claims","console","log","xs","lg","items","itemsPerPageSelect","itemsPerPage","tableFilter","pagination","scopedSlots","claimuser","first_name","last_name","businesses","map","person","index","name","email","approval_status","color","creator","type","onClick","size","className","role","React","Component","connect","dispatch","listClaims","response","checkResponse","success","error","approveClaims"],"mappings":"0VAqBMA,EAAS,CAAC,aAAc,gBAAgB,mBAAmB,SAAS,UAWnEC,E,kDACH,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IASXC,kBAVsB,sBAUF,sBAAAC,EAAA,sEACT,EAAKF,MAAMG,sBADF,OAEO,EAAKH,MAAMI,cAAcC,WAAWC,OAF3C,2CAPf,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,MAAQ,CACPC,KAAM,GACVC,OAAQ,IANO,E,kGAgBHC,EAAOC,G,8EACrBC,EAAU,CACRD,GAAIA,G,SAEAE,KAAKf,MAAMgB,eAAeF,G,wIAExB,IAAD,OACPV,EAAgBW,KAAKf,MAAMI,cAAcC,WAAWC,OAGxD,OADFW,QAAQC,IAAId,GAER,oCAEA,kBAAC,IAAD,KAEI,kBAAC,IAAD,CAAMe,GAAG,KAAKC,GAAG,MACf,kBAAC,IAAD,KACE,kBAAC,IAAD,4BAIA,kBAAC,IAAD,KACEhB,EAAiB,kBAAC,IAAD,CACjBiB,MAAOjB,EACPN,OAAQA,EACRwB,oBAAkB,EACnBC,aAAc,GACbC,aAAW,EACXC,YAAU,EAGVC,YAAe,CACb,WAAa,SAACtB,GAAD,OAAkB,4BAAKA,EAAcuB,UAAUC,WAA7B,IAA0CxB,EAAcuB,UAAUE,YAC9F,cAAgB,SAACzB,GAAD,OAAkB,iCAAOA,EAAc0B,WAAWC,KAAI,SAACC,EAAQC,GAAT,OACrE,wCAAID,EAAOE,WAEZ,MAAQ,SAAC9B,GAAD,OAAkB,4BAAKA,EAAcuB,UAAUQ,QACvD,OAAS,SAAC/B,GAAD,OAAkB,4BAAsC,GAAjCA,EAAcgC,gBAAuB,kBAAC,IAAD,CAASC,MAAM,WAAf,YAA8C,kBAAC,IAAD,CAAUA,MAAM,WAAhB,aACxH,iBAAmB,SAACjC,GAAD,OAAkB,4BAA8B,MAAzBA,EAAckC,QAAkB,oCAAGlC,EAAckC,QAAQV,WAAzB,IAAsCxB,EAAckC,QAAQT,WAAgB,KACjJ,OACD,SAACzB,GAAD,OAAkB,4BAAsC,GAAjCA,EAAcgC,gBAAuB,gCAAK,kBAAC,IAAD,CAASG,KAAK,SAAUC,QAAS,SAAC5B,GAAW,EAAKL,aAAaK,EAAOR,EAAcS,KAAM4B,KAAK,KAAKJ,MAAM,WAA1G,cAA6I,QAI/M,yBAAKK,UAAU,iCACpB,yBAAKA,UAAU,iBAAiBC,KAAK,UACnC,0BAAMD,UAAU,WAAhB,yB,GA/DmBE,IAAMC,WAiFxBC,uBALS,SAAArC,GAAK,sBACxBA,KAImC,CACtCN,oBC9GiC,SAAAW,GAAO,8CAAI,WAAMiC,GAAN,eAAA7C,EAAA,sEACvB8C,YAAWlC,GADY,OACxCmC,EADwC,QAE5CA,EAAWC,YAAcD,IAEZE,QACXJ,EAAS,CACPR,KAAM,qBACNzB,QAASmC,EAASvC,KAAKA,OAGzBqC,EACE,CACER,KAAM,gBACNzB,QAASmC,EAASG,QAboB,2CAAJ,uDD8GpBpC,eC3FQ,SAAAF,GAAO,8CAAI,WAAMiC,GAAN,eAAA7C,EAAA,sEAClBmD,YAAcvC,GADI,OACnCmC,EADmC,QAEvCA,EAAWC,YAAcD,IAEZE,QAEXJ,EAAS,CACPR,KAAM,iBACNzB,QAASmC,IAIXF,EACE,CACER,KAAM,gBACNzB,QAASmC,EAASG,QAfe,2CAAJ,wDD0FtBN,CAEV/C","file":"static/js/18.db211ff9.chunk.js","sourcesContent":["import React from 'react'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n\n  \n\n} from '@coreui/react'\n\nimport { connect } from \"react-redux\";\n\nimport 'sweetalert2/src/sweetalert2.scss'\n\nimport {claim_business_data, approve_claims} from \"../../../redux/claimbuisness/action\";\n\nconst fields = ['Claim_user' ,'Buisness_name','Business_creator','Status','action']\nconst getBadge = action => {\n  switch (action) {\n    case 'Active': return 'success'\n    case 'Inactive': return 'secondary'\n    case 'Pending': return 'warning'\n    case 'Banned': return 'danger'\n    default: return 'primary'\n  }\n  \n}\n class ListClaimbuisness extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.handleSubmit = this.handleSubmit.bind(this);\n      this.state = {\n            data: {},\n        errors: {}\n      };\n    }\n  \n componentDidMount = async () => {\n      await this.props.claim_business_data()\n      const claimbuisness = this.props.claimbuisness.claim_list.result;\n  \n      \n    }\n async handleSubmit(event, id) {\nconst payload = {\n        id: id,\n      };\n      await this.props.approve_claims(payload);\n       }\n     render(){\nconst claimbuisness = this.props.claimbuisness.claim_list.result;\n\nconsole.log(claimbuisness)\n  return (\n    <>\n \n    <CRow>\n\n        <CCol xs=\"12\" lg=\"12\">\n          <CCard>\n            <CCardHeader>\n              All Buisness Claims\n            \n            </CCardHeader>\n            <CCardBody>\n             {claimbuisness ?  <CDataTable\n              items={claimbuisness}\n              fields={fields}\n              itemsPerPageSelect\n             itemsPerPage={10}\n              tableFilter\n              pagination\n\n             \n              scopedSlots = {{\n                'Claim_user':(claimbuisness)=>(<td>{claimbuisness.claimuser.first_name} {claimbuisness.claimuser.last_name}</td>),\n                   'Buisness_name':(claimbuisness)=>(<td>  {claimbuisness.businesses.map((person, index) => (\n                    <> {person.name}</>\n                ))}</td>),\n                   'email':(claimbuisness)=>(<td>{claimbuisness.claimuser.email}</td>),\n                   'Status':(claimbuisness)=>(<td>{claimbuisness.approval_status == 0 ? <CButton color=\"warning\">Pending </CButton> : <CButton  color=\"success\">Approve</CButton> }</td>),\n              'Business_creator':(claimbuisness)=>(<td>{claimbuisness.creator != null ? <>{claimbuisness.creator.first_name} {claimbuisness.creator.last_name}</> : \"\"}</td>),\n                   'action':\n                  (claimbuisness)=>(<tr>{claimbuisness.approval_status == 0 ? <td> <CButton type=\"submit\" \tonClick={(event) => {this.handleSubmit(event, claimbuisness.id)}} size=\"sm\" color=\"primary\"> Approved</CButton></td>:\"\"}\n                       </tr> ) }\n}\n \n            /> : <div className=\"d-flex justify-content-center\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          </div> }\n           \n            \n           </CCardBody>\n           </CCard>\n      </CCol>\n </CRow>\n    </>\n  )\n}\n  }\nconst mapStateToProps = state => ({\n  ...state\n});\n\n\nexport default connect(mapStateToProps, {\n  claim_business_data,approve_claims\n  })(ListClaimbuisness);","import {listClaims,approveClaims} from '../queries';\nimport { checkResponse } from \"../../constants/index\";\n\n/* LISTCLIENT */\nexport const claim_business_data = payload => async dispatch => {\n  let response = await listClaims(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CLAIMBUISNESS_DATA\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\nexport const approve_claims = payload => async dispatch => {\n  let response = await approveClaims(payload);\n  response = checkResponse(response);\n  \n  if (response.success) {\n\n    dispatch({\n      type: \"APPROVE_CLAIMS\",\n      payload: response\n    });\n  } else {\n  \n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};"],"sourceRoot":""}