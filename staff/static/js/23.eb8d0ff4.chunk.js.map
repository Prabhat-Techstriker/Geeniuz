{"version":3,"sources":["redux/categories/action.js","views/base/addcategory/Editcategory.js"],"names":["get_category_data","payload","dispatch","a","categoryData","response","checkResponse","success","type","data","error","get_category_data_byid","getCategoryById","get_subcategory_data_byid","getSubcatById","localStorage","setItem","status","console","log","edit_category","editCategory","create_category","createCategory","delete_category","deleteCategory","Editcategory","props","componentDidMount","match","params","clientId","selectedClient","category","categoryid_list","setState","id","formValidate","state","is_valid","x","prevState","bind","handleSubmit","event","preventDefault","this","name","target","value","description","JSON","stringify","then","history","push","isLogin","catch","err","errors","action","method","encType","className","row","md","htmlFor","xs","onChange","handleChange","placeholder","onClick","size","color","React","Component","connect"],"mappings":"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","file":"static/js/23.eb8d0ff4.chunk.js","sourcesContent":["import {categoryData,createCategory,deleteCategory,editCategory,getCategoryById,getSubcatById} from '../queries';\nimport { checkResponse } from \"../../constants/index\";\n\n/* LISTCLIENT */\nexport const get_category_data = payload => async dispatch => {\n  let response = await categoryData(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_category_data_byid = payload => async dispatch => {\n  let response = await getCategoryById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"CATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n\nexport const get_subcategory_data_byid = payload => async dispatch => {\n  let response = await getSubcatById(payload);\n  response = checkResponse(response);\n\n  if (response.success) {\n    dispatch({\n      type: \"SUBCATEGORY_DATA_ID\",\n      payload: response.data.data\n    });\n\nvar a=localStorage.setItem(\"a\", response.data.status);\nconsole.log(a,\"hih\")\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\nexport const edit_category = payload => async dispatch => {\n  let response = await editCategory(payload);\n  response = checkResponse(response);\n  if (response.success) {\n    dispatch({\n      type: \"UPDATE_DATA_ID\",\n      payload: response.data\n    });\n  } else {\n    dispatch(\n      {\n        type: \"ERROR_OCCURED\",\n        payload: response.error\n      }\n    )\n  }\n\n};\n  export const create_category = payload => async dispatch => {\n    let response = await createCategory(payload);\n    response = checkResponse(response);\n    \n    if (response.success) {\n\n      dispatch({\n        type: \"CREATE_CATEGORY\",\n        payload: response\n      });\n    } else {\n    \n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n  export const delete_category = payload => async dispatch => {\n    let response = await deleteCategory(payload);\n    response = checkResponse(response);\n\n    if (response.success) {\n      dispatch(get_category_data())\n    } else {\n      dispatch(\n        {\n          type: \"ERROR_OCCURED\",\n          payload: response.error\n        }\n      )\n    }\n  \n  };\n\n\n\n\n","import React from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormGroup,\n  CTextarea,\n  CLabel,\n  CSelect,\n  CInput\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {get_category_data,edit_category,get_category_data_byid} from \"../../../redux/categories/action\";\n\nimport { connect } from \"react-redux\";\n;\n\nclass Editcategory extends React.Component {\n\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n      data: {}\n\n    };\n    this.formValidate = this.formValidate.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount = async () => {\n\n    await this.props.get_category_data_byid(this.props.match.params.clientId);\n    let selectedClient = this.props.category.categoryid_list.category;\n\n    \n    await this.setState({\n      data: selectedClient,\n      id: this.props.match.params.clientId\n    });\n  }\n\n  formValidate = () => {\n    let { data, error } = this.state;\n    let fieldList = [\n      \"name\",\n      \"description\",\n    ];\n    let is_valid = true;\n    for (let x of fieldList) {\n      if (!data[x]) {\n        is_valid = false;\n        this.setState(prevState => ({\n          error: { ...prevState.error, [x]: \"Please fill in the above field\" }\n        }));\n      }\n    }\n    return is_valid;\n  };\n\n  handleChange(event) {\n    event.preventDefault();\n    let data = this.state.data;\n    let name = event.target.name;\n    let value = event.target.value;\n\n    data[name] = value;\n\n    this.setState({data})\n}\n\n\nhandleSubmit(event) {\n  event.preventDefault();\n   \n    const { data, id } = this.state;\n    if (!this.formValidate()) {\n\t\t\treturn;\n    }\n\t\tconst payload = {\n     id: data.id, \n     name:data.name,\n     description:data.description\n    };\n    const sendData = JSON.stringify(payload);\n    this.props\n      .edit_category(payload)\n      .then(async () => {\n        this.props.history.push(\"/allcategory\");\n        this.setState({\n          isLogin: false\n        });\n      })\n      .catch(err => {\n        console.log(\"err\", err);\n      });\n}\nrender() {\n\n  const categorydata = this.props.category;\n  const { data, errors } = this.state;\n  return (\n    <>\n     <CCard>\n            <CCardHeader>\n              Add category \n              <small> Form</small>\n            </CCardHeader>\n            <CCardBody>\n              <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\n          <CFormGroup row>\n                \n                <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">Name</CLabel>\n                </CCol>\n                \n                <CCol xs=\"12\" md=\"9\">\n                <CInput  name=\"name\"\n                        id=\"name\"\n                        onChange={this.handleChange.bind(this)} \n                        value={data.name}\n                      \n\t\t\t\t\t\t\t\t\t\t\t  placeholder=\"Enter name\" />\n                   \n                </CCol>\n               \n              </CFormGroup>\n              <CFormGroup row>\n                \n                <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">Description</CLabel>\n                </CCol>\n                \n                <CCol xs=\"12\" md=\"9\">\n                <CInput \n\t\t\t\t\t          \tname=\"description\"\n                        id=\"description\"\n                        onChange={this.handleChange.bind(this)} \n                        value={data.description}\n                        placeholder=\"Enter description\" />\n                    \n                </CCol>\n               \n              </CFormGroup>\n             \n     </CForm>\n            </CCardBody>\n            <CCardFooter>\n              \n              <CButton type=\"submit\" \t  onClick={this.handleSubmit} size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" /> Submit</CButton>\n           \n            </CCardFooter>\n          </CCard>\n       \n    </>\n  )\n}\n }\n\n\nconst mapStateToProps = (state) => ({\n  ...state\n})\nexport default connect(mapStateToProps, { get_category_data ,edit_category,get_category_data_byid})(Editcategory);"],"sourceRoot":""}