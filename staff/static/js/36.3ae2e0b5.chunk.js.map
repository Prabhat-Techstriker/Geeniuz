{"version":3,"sources":["views/theme/alluser/Edituser.js"],"names":["Edituser","props","componentDidMount","a","get_user_data_byid","match","params","clientId","selectedClient","user","update_user_id","data","setState","id","formValidate","state","is_valid","error","x","prevState","bind","handleSubmit","event","preventDefault","this","name","target","value","payload","first_name","last_name","phone","JSON","stringify","edit_user","then","history","push","isLogin","catch","err","console","log","category","errors","action","method","encType","className","row","md","htmlFor","xs","onChange","handleChange","placeholder","email","readOnly","type","onClick","size","color","React","Component","connect"],"mappings":"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","file":"static/js/36.3ae2e0b5.chunk.js","sourcesContent":["import React from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormGroup,\n  CTextarea,\n  CLabel,\n  CSelect,\n  CInput\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\n// import {get_category_data,edit_category,get_category_data_byid,} from \"../../../redux/categories/action\";\nimport {get_user_data_byid,edit_user} from \"../../../redux/user/action\";\nimport { connect } from \"react-redux\";\n\n\nclass Edituser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    \tthis.state = {\n      data: {}\n };\n    this.formValidate = this.formValidate.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount = async () => {\n\n    await this.props.get_user_data_byid(this.props.match.params.clientId);\n  \n    let selectedClient = this.props.user.update_user_id.data.user;\n\n      await this.setState({\n      data: selectedClient,\n      id: this.props.match.params.clientId\n    });\n  }\n\n  formValidate = () => {\n    let { data, error } = this.state;\n    let fieldList = [\n      \"first_name\",\n      \"last_name\",\n      \"email\",\n      \"phone\",\n    ];\n    let is_valid = true;\n    for (let x of fieldList) {\n      if (!data[x]) {\n        is_valid = false;\n        this.setState(prevState => ({\n          error: { ...prevState.error, [x]: \"Please fill in the above field\" }\n        }));\n      }\n    }\n    return is_valid;\n  };\n\n  handleChange(event) {\n    event.preventDefault();\n    let data = this.state.data;\n    let name = event.target.name;\n    let value = event.target.value;\n\n    data[name] = value;\n\n    this.setState({data})\n}\n\n\nhandleSubmit(event) {\n  event.preventDefault();\n   \n    const { data, id } = this.state;\n    if (!this.formValidate()) {\n\t\t\treturn;\n    }\n\t\tconst payload = {\n     id: data.id, \n     first_name:data.first_name,\n     last_name:data.last_name,\n    //  email:data.email,\n      phone:data.phone\n    };\n\n    \n    const sendData = JSON.stringify(payload);\n    this.props\n      .edit_user(payload)\n      .then(async () => {\n        this.props.history.push(\"/allusers\");\n        this.setState({\n          isLogin: false\n        });\n      })\n      .catch(err => {\n        console.log(\"err\", err);\n      });\n}\nrender() {\n  \n\n  const categorydata = this.props.category;\n  const { data, errors } = this.state;\n\n  return (\n    <>\n     <CCard>\n            <CCardHeader>\n              Edit User\n              \n            </CCardHeader>\n            <CCardBody>\n              <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\n          <CFormGroup row>\n                \n                <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">First Name</CLabel>\n                </CCol>\n                \n                <CCol xs=\"12\" md=\"9\">\n                <CInput  name=\"first_name\"\n                        id=\"first_name\"\n                        onChange={this.handleChange.bind(this)} \n                        value={data.first_name}\n                       placeholder=\"Enter name\" /> </CCol>\n              </CFormGroup>\n              <CFormGroup row>\n                <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">Last Name</CLabel>\n                </CCol>\n                 <CCol xs=\"12\" md=\"9\">\n                <CInput  name=\"last_name\"\n                        id=\"last_name\"\n                        onChange={this.handleChange.bind(this)} \n                        value={data.last_name}\n                       placeholder=\"Enter name\" />\n                   </CCol>\n                 </CFormGroup>\n              <CFormGroup row>\n                  <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">Email</CLabel>\n                </CCol>\n                 <CCol xs=\"12\" md=\"9\">\n                <CInput \n\t\t\t\t\t          \tname=\"email\"\n                        id=\"email\"\n                        onChange={this.handleChange.bind(this)} \n                        value={data.email}\n                        readOnly = {true} \n                        placeholder=\"Enter email\" />\n                     </CCol>\n               </CFormGroup>\n              <CFormGroup row>\n               <CCol md=\"3\">\n                  <CLabel htmlFor=\"select\">Phone</CLabel>\n                </CCol>\n                  <CCol xs=\"12\" md=\"9\">\n                <CInput \n\t\t\t\t\t          \tname=\"phone\"\n                        id=\"phone\"\n                        onChange={this.handleChange.bind(this)} \n                        value={data.phone}\n                   \n                        placeholder=\"Enter phone\" />\n                    </CCol>\n               </CFormGroup>\n     </CForm>\n            </CCardBody>\n            <CCardFooter>\n              <CButton type=\"submit\" \t  onClick={this.handleSubmit} size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" /> Submit</CButton>\n              \n            </CCardFooter>\n          </CCard>\n  \n    </>\n  )\n}\n }\nconst mapStateToProps = (state) => ({\n  ...state\n})\nexport default connect(mapStateToProps, { get_user_data_byid,get_user_data_byid,edit_user})(Edituser);"],"sourceRoot":""}